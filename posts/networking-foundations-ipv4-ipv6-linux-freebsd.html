<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>networking-foundations-ipv4-ipv6-linux-freebsd</title>
  <style>
    /* Default styles provided by pandoc.
    ** See https://pandoc.org/MANUAL.html#variables-for-html for config info.
    */
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      border: none;
      border-top: 1px solid #1a1a1a;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1
id="networking-foundations-ipv4-ipv6-and-basic-configuration-on-linux-and-freebsd">Networking
Foundations: IPv4, IPv6, and Basic Configuration on Linux and
FreeBSD</h1>
<blockquote>
<p>Before you can secure a system, you must make it accessible.</p>
</blockquote>
<h2 id="where-it-all-started-six-years-at-an-isp">Where It All Started ‚Äî
Six Years at an ISP</h2>
<p>I spent six years working as a system engineer at an Internet Service
Provider (ISP) ‚Äî the kind of place where networking isn‚Äôt just theory,
it‚Äôs <em>survival</em>.</p>
<p>Routers, BGP sessions, fiber cuts at 2 a.m., and the quiet
satisfaction when a link comes back online ‚Äî that was daily life.</p>
<p>Those years taught me more about how the Internet truly works than
any textbook ever could.</p>
<p>You see, at an ISP, networking isn‚Äôt a service ‚Äî it‚Äôs the
<strong>heartbeat</strong> of everything else. Every packet matters,
every prefix has a story, and every configuration line can bring silence
or stability.</p>
<p>That background shaped how I approach systems today. Whether it‚Äôs
Linux, FreeBSD, or cloud platforms, I start from the same principle I
learned back then:</p>
<blockquote>
<p>‚ÄúIf you don‚Äôt understand the network, you don‚Äôt understand the
system.‚Äù</p>
</blockquote>
<p>This post is about that foundation. We‚Äôll take a close, practical
look at:</p>
<ul>
<li>how IP addressing actually works (IPv4 and IPv6),</li>
<li>the difference between static and dynamic configuration,</li>
<li>and how to bring up networking on both <em>Linux</em> and
<em>FreeBSD</em> ‚Äî step by step.</li>
</ul>
<p>This isn‚Äôt a deep dive into theory ‚Äî it‚Äôs the kind of knowledge every
engineer should have before touching firewalls or cloud networks.</p>
<p>Because everything else depends on one thing: <strong>your system
being able to talk</strong>.</p>
<hr />
<h2 id="what-an-ip-address-really-is">What an IP Address Really Is</h2>
<p>At its core, networking is about identity and direction ‚Äî who you are
and how to reach others.</p>
<p>Every device on a network needs a unique address, a kind of digital
coordinate that tells packets where to go and how to come back.</p>
<p>That coordinate is your IP address.</p>
<p>There are two versions of this language in use today: IPv4 and IPv6.
They do the same job, but they speak in very different scales.</p>
<h3 id="ipv4-the-classic-standard">IPv4 ‚Äî The Classic Standard</h3>
<p>IPv4 uses a 32-bit number written as four decimal values separated by
dots:</p>
<p><code>192.168.1.10</code></p>
<p>Each section (called an <em>octet</em>) can range from 0 to 255,
giving a total of about 4.3 billion possible addresses ‚Äî which used to
sound infinite.</p>
<p>Every IPv4 address includes two parts:</p>
<ul>
<li>The <strong>network portion</strong> ‚Äî defining which subnet the
device belongs to.</li>
<li>The <strong>host portion</strong> ‚Äî defining the specific device
within that subnet.</li>
</ul>
<p>We often describe this using CIDR notation (Classless Inter-Domain
Routing), like <code>/24</code>, which means ‚Äúthe first 24 bits identify
the network.‚Äù</p>
<p><strong>Example:</strong> * <code>192.168.1.0/24</code> ‚Üí network *
<code>192.168.1.10</code> ‚Üí host inside that network</p>
<p>It‚Äôs compact, reliable, and deeply familiar ‚Äî but also limited. The
world simply ran out of IPv4 space.</p>
<h3 id="ipv6-the-next-generation">IPv6 ‚Äî The Next Generation</h3>
<p>IPv6 was designed to solve that limitation ‚Äî and then some.</p>
<p>It uses 128 bits, written in hexadecimal and separated by colons:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">fd42:abcd:1234::10</span> <span class="co">### local address</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">2a00:1450:4025:802::64</span> <span class="co">### google.com</span></span></code></pre></div>
<p>That single format allows for <strong>340 undecillion</strong>
addresses ‚Äî enough for every grain of sand on Earth (and then a few
more).</p>
<p>But the structure remains simple:</p>
<ul>
<li>The <strong>prefix</strong> defines the network.</li>
<li>The <strong>interface ID</strong> defines the device.</li>
</ul>
<p>IPv6 also introduces several address ‚Äútypes‚Äù ‚Äî link-local, global,
and unique-local ‚Äî that make it more flexible for complex
environments.</p>
<p>If IPv4 feels like a phone directory, IPv6 is a <em>global GPS
system</em>: you can define, locate, and connect anything ‚Äî without
translation or NAT.</p>
<h3 id="the-core-idea">The Core Idea</h3>
<p>Whether it‚Äôs IPv4 or IPv6, every address defines the same
relationship:</p>
<blockquote>
<p>‚ÄúThis system belongs to this network ‚Äî and it can reach others
through that gateway.‚Äù</p>
</blockquote>
<p>Everything else ‚Äî routing, firewalls, VPNs, cloud connectivity ‚Äî
builds on that foundation.</p>
<h2 id="how-systems-get-their-ips-static-dynamic-and-the-cloud-way">How
Systems Get Their IPs ‚Äî Static, Dynamic, and the Cloud Way</h2>
<p>Once you understand what an IP address is, the next question becomes:
<strong>how does your system actually get one?</strong></p>
<p>There are two main ways this happens ‚Äî either the machine is
<em>told</em> what address to use, or it <em>asks</em> for one
automatically.</p>
<h3 id="dynamic-allocation-dhcp">Dynamic Allocation ‚Äî DHCP</h3>
<p>When a device joins a network without knowing its identity, it
requests assistance from the network.</p>
<p>That‚Äôs the job of <strong>DHCP (Dynamic Host Configuration
Protocol)</strong>. The process is simple but elegant:</p>
<ol type="1">
<li>The device broadcasts a request: ‚ÄúCan someone assign me an IP?‚Äù</li>
<li>A DHCP server responds with an offer: ‚ÄúTake
<code>192.168.1.50</code>, use <code>192.168.1.1</code> as your gateway,
and here‚Äôs your DNS.‚Äù</li>
<li>The device accepts, and the network handshake completes.</li>
</ol>
<p>DHCP makes sense when flexibility is more important than control ‚Äî
for example:</p>
<ul>
<li>personal computers and laptops,</li>
<li>virtual machines that spin up and down frequently,</li>
<li>or cloud environments where the provider manages the networking
layer on your behalf.</li>
</ul>
<p>In most home or enterprise setups, DHCP quietly does its job in the
background ‚Äî assigning, renewing, and recycling IPs so you don‚Äôt have to
think about it.</p>
<h3 id="static-allocation-predictability-and-control">Static Allocation
‚Äî Predictability and Control</h3>
<p>For servers and routers, <em>consistency</em> matters more than
convenience.</p>
<p>That‚Äôs why these systems use <strong>static IPs</strong> ‚Äî addresses
manually configured and written into their network settings.</p>
<p>A static setup typically includes:</p>
<ul>
<li>IP address and subnet mask (or prefix)</li>
<li>default gateway</li>
<li>DNS servers</li>
</ul>
<p>This ensures your system always comes up on the same address, which
is essential for:</p>
<ul>
<li>web servers,</li>
<li>load balancers,</li>
<li>VPN endpoints,</li>
<li>and anything other systems must reliably reach.</li>
</ul>
<p>In short, DHCP is about flexibility. Static configuration is about
stability.</p>
<h3 id="the-clouds-hybrid-approach">The Cloud‚Äôs Hybrid Approach</h3>
<p>Modern cloud environments automate all this, but the same principles
still apply.</p>
<p>Under the surface, cloud networking is just <em>DHCP with
policy</em>.</p>
<p><strong>Internal IPs</strong> (like <code>10.x.x.x</code> or
<code>172.16.x.x</code>) are usually assigned dynamically when an
instance is created ‚Äî but the cloud control plane can ‚Äúreserve‚Äù them,
making them effectively static.</p>
<p><strong>External or public IPs</strong> are mapped using NAT ‚Äî
exactly how routers and ISPs have done it for decades.</p>
<p>When you ‚Äúpromote‚Äù an ephemeral IP to a static one in GCP or AWS,
what you‚Äôre really doing is <em>locking the lease</em> ‚Äî telling DHCP
never to reassign it.</p>
<p>Even in the cloud era, the fundamentals haven‚Äôt changed:</p>
<blockquote>
<p>The cloud didn‚Äôt reinvent networking ‚Äî it just automated what
engineers used to do by hand.</p>
</blockquote>
<h3 id="how-cloud-vms-get-their-ips-behind-the-scenes-on-gcp">How Cloud
VMs Get Their IPs ‚Äî Behind the Scenes on GCP</h3>
<p>When you create a VM on Google Cloud, the networking configuration
seems to ‚Äújust work‚Äù ‚Äî your instance boots, <code>eth0</code> or
<code>en0</code> comes online, and you already have both IPv4 and IPv6
ready.</p>
<p>But under the hood, the process is handled by a few simple but
elegant mechanisms.</p>
<p>Here‚Äôs how it happens on <em>Debian-based</em> GCP images:</p>
<ol type="1">
<li><p><strong>udev brings the interface online</strong> When the VM
boots and <code>eth0</code> or <code>en0</code> is detected, a udev rule
fires automatically from:
<code>/etc/udev/rules.d/75-cloud-ifupdown.rules</code></p></li>
<li><p><strong>The helper applies a cloud-specific template</strong> The
rule triggers the script:
<code>/etc/network/cloud-ifupdown-helper</code></p>
<p>Instead of manually configuring IPs or querying metadata, this helper
simply <em>applies a pre-defined template</em> called
<code>cloud-interfaces-template</code>, which looks like this:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="dt">auto $INTERFACE</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="dt">allow-hotplug $INTERFACE</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="dt">iface $INTERFACE inet dhcp</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="dt">iface $INTERFACE inet6 manual</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="dt">  try_dhcp 1</span></span></code></pre></div>
<p>This tells the system to obtain its IPv4 address dynamically via DHCP
and to attempt DHCPv6 for IPv6 ‚Äî exactly how cloud networking is meant
to behave.</p></li>
<li><p><strong>DHCP happens behind the scenes</strong> The GCP
hypervisor provides a <em>virtual DHCP server</em> on the local network.
When the VM requests an address, the DHCP server responds with the
correct internal IP, subnet, and gateway ‚Äî derived from the instance
metadata you see in the console.</p></li>
<li><p><strong>The result: clean, declarative networking</strong> From
the OS‚Äôs perspective, it‚Äôs all just standard DHCP ‚Äî no hardcoded IPs, no
special binaries, no hidden cloud magic. If you ever disable or replace
these udev rules, the interface won‚Äôt come up automatically, because
nothing will apply that template during boot.</p></li>
</ol>
<p>This design keeps GCP images clean and maintainable:</p>
<ul>
<li>It stays 100% compatible with traditional Debian networking
tools.</li>
<li>It delegates configuration to cloud infrastructure via DHCP, not via
system scripts.</li>
<li>It avoids embedding any cloud-specific logic directly into
<code>/etc/network/interfaces</code>.</li>
</ul>
<p>In short: &gt; Google Cloud makes Linux networking ‚Äúcloud-native‚Äù by
automation, not by rewriting how Linux works.</p>
<h3 id="why-it-matters">Why It Matters</h3>
<p>When something breaks, understanding <em>how</em> your system got its
IP is the key to fixing it.</p>
<p>Perhaps the DHCP lease has expired, the gateway is missing, or a
static IP address overlaps with another system.</p>
<p>These are classic problems that appear everywhere ‚Äî from bare metal
to virtual networks.</p>
<p>So before touching firewalls or load balancers, always make sure of
one thing: &gt; Your system knows who it is ‚Äî and how to find the rest
of the network.</p>
<hr />
<h2 id="how-the-internet-stays-organized-rfcs-and-private-networks">How
the Internet Stays Organized ‚Äî RFCs and Private Networks</h2>
<p>The Internet might look like an endless mesh of routers and cables,
but underneath it runs on order ‚Äî a system of agreements and standards
that keep billions of devices from stepping on each other‚Äôs toes.</p>
<p>That order comes from <strong>RFCs ‚Äî Request for Comments</strong> ‚Äî
the open documents that define how every part of the Internet
behaves.</p>
<p>One of the most important areas these RFCs define is <strong>address
space</strong>: which IPs are public and can be routed globally, and
which ones are private ‚Äî safe to use inside your own networks, labs, or
datacenters.</p>
<p>These <strong>private address spaces</strong> form the invisible
backbone of every internal network, from your home router to hyperscale
cloud platforms.</p>
<h3 id="ipv4-rfc-1918-private-address-space">IPv4 ‚Äî RFC 1918: Private
Address Space</h3>
<p>RFC 1918 defines three IPv4 blocks that are reserved for local
networks. They‚Äôll never be routed on the public Internet ‚Äî meaning you
can use them freely without risk of collisions.</p>
<ul>
<li><p><strong>Network:</strong> <code>10.0.0.0/8</code>
<strong>Range:</strong> <code>10.0.0.0</code> ‚Äì
<code>10.255.255.255</code> <strong>Common Use:</strong> Large
enterprise or ISP internal networks</p></li>
<li><p><strong>Network:</strong> <code>172.16.0.0/12</code>
<strong>Range:</strong> <code>172.16.0.0</code> ‚Äì
<code>172.31.255.255</code> <strong>Common Use:</strong> Corporate and
datacenter environment</p></li>
<li><p><strong>Network:</strong> <code>192.168.0.0/16</code>
<strong>Range:</strong> <code>192.168.0.0</code> ‚Äì
<code>192.168.255.255</code> <strong>Common Use:</strong> Home routers
and small LANs</p></li>
</ul>
<p>For your <em>d3ep0ps</em> lab, a simple and safe choice is the
<code>10.0.2.x</code> range. It‚Äôs clean, consistent, and avoids
conflicts with most consumer networks.</p>
<h3 id="ipv6-rfc-4193-unique-local-addresses-ula">IPv6 ‚Äî RFC 4193:
Unique Local Addresses (ULA)</h3>
<p>IPv6 has its own concept of private networks, known as <strong>Unique
Local Addresses (ULA)</strong>, defined in RFC 4193.</p>
<ul>
<li><strong>Range:</strong> <code>fd00::/8</code></li>
<li><strong>Description:</strong> Internal use only, not routed
globally</li>
<li><strong>Example:</strong> <code>fd42:abcd:1234::10/64</code></li>
</ul>
<p>ULAs are like private IPv6 networks that you can safely design
yourself. Unlike IPv4‚Äôs static ranges, ULAs include a random component
to avoid collisions when two private networks connect.</p>
<p>They‚Äôre especially useful in labs and hybrid environments ‚Äî giving
you the realism of IPv6 without touching the public Internet.</p>
<h3 id="link-local-addresses-the-built-in-fallback">Link-Local Addresses
‚Äî The Built-In Fallback</h3>
<p>Even if you don‚Äôt assign any IPs manually, your system still
generates a <strong>link-local address</strong>.</p>
<p>These are used for neighbor discovery and local diagnostics ‚Äî they
only work within the same physical or virtual link.</p>
<ul>
<li><strong>IPv4 (RFC 3927):</strong> <code>169.254.0.0/16</code></li>
<li><strong>IPv6 (RFC 4291):</strong> <code>fe80::/10</code></li>
</ul>
<p>If you‚Äôve ever seen one of those pop up on boot when DHCP failed,
that‚Äôs your system saying: &gt; ‚ÄúI can‚Äôt reach the Internet, but I can
still talk locally.‚Äù</p>
<h3 id="why-this-matters">Why This Matters</h3>
<p>Understanding which networks are private, reserved, or link-local
helps you design safe and predictable environments.</p>
<p>It‚Äôs how you avoid routing conflicts, keep lab traffic isolated, and
build configurations that scale ‚Äî from your home VM setup to
multi-tenant cloud networks.</p>
<p>In short: &gt; Public IPs connect the world. Private IPs let you
build your own.</p>
<hr />
<h2 id="configuring-network-interfaces-linux-vs-freebsd">Configuring
Network Interfaces ‚Äî Linux vs FreeBSD</h2>
<p>At some point, theory meets reality ‚Äî your machine needs a real IP
address and a working gateway.</p>
<p>This is where Linux and FreeBSD begin to reveal their distinct
personalities.</p>
<p>Both achieve the same outcome ‚Äî a live, networked system ‚Äî but the
way you tell them <em>who they are</em> is quite different.</p>
<h3 id="freebsd-configuration-lives-in-etcrc.conf">FreeBSD ‚Äî
Configuration Lives in /etc/rc.conf</h3>
<p>FreeBSD follows a clean and predictable philosophy: System
configuration belongs in one place ‚Äî <code>/etc/rc.conf</code>.</p>
<p>This file defines what your system does at boot: network interfaces,
services, routing, and more. You edit it once, and it remains consistent
‚Äî every restart, every time.</p>
<p>Example of a static configuration:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># /etc/rc.conf</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Static IPv4</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="va">ifconfig_em0</span><span class="op">=</span><span class="st">&quot;inet 10.0.2.11 netmask 255.255.255.0&quot;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="va">defaultrouter</span><span class="op">=</span><span class="st">&quot;10.0.2.1&quot;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Static IPv6</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="va">ifconfig_em0_ipv6</span><span class="op">=</span><span class="st">&quot;inet6 fd00:2::11 prefixlen 64&quot;</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="va">ipv6_defaultrouter</span><span class="op">=</span><span class="st">&quot;fd00:2::1&quot;</span></span></code></pre></div>
<p>After saving, apply your changes:</p>
<pre><code>service netif restart &amp;&amp; service routing restart</code></pre>
<p>Everything is declarative ‚Äî no daemons or complex YAML layers, just a
plain-text file that describes how your system should look.</p>
<p>That simplicity is one of FreeBSD‚Äôs biggest strengths: when something
goes wrong, you know exactly where to look.</p>
<h2 id="temporary-configuration-on-freebsd-ifconfig">Temporary
Configuration on FreeBSD (ifconfig)</h2>
<p>If you just want to test something ‚Äî or configure a lab quickly ‚Äî you
can use the classic <code>ifconfig</code> command directly:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Temp IPv4</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> ifconfig em0 inet 10.0.2.11 netmask 255.255.255.0 up</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> route add default 10.0.2.1</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># or with CIDR notation</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> ifconfig em0 inet 10.0.2.11/24 up</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> route add default 10.0.2.1</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Temp IPv6</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> ifconfig em0 inet6 fd00:2::11 prefixlen 64</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> route add <span class="at">-inet6</span> default fd00:2::1</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co">#or with CIDR notation</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> ifconfig em0 inet6 fd00:2::11/64</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> route add <span class="at">-inet6</span> default fd00:2::1</span></code></pre></div>
<p>These commands are temporary ‚Äî they‚Äôll reset after reboot ‚Äî but
perfect for experimentation. It‚Äôs fast, transparent, and close to the
metal.</p>
<h2 id="linux-many-paths-to-the-same-goal">Linux ‚Äî Many Paths to the
Same Goal</h2>
<p>Linux offers more flexibility ‚Äî which can be both empowering and
confusing. There‚Äôs more than one way to bring up a network
interface.</p>
<h3 id="temporary-configuration-modern-tools">1. Temporary Configuration
(Modern Tools)</h3>
<p>The ip command is the standard way to manage interfaces on Linux:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Temp IPv4</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> ip addr add 10.0.2.10/24 dev eth0</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> ip route add default via 10.0.2.1</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Temp IPv6</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> ip <span class="at">-6</span> addr add fd00:2::10/64 dev eth0</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> ip <span class="at">-6</span> route add default via fd00:2::1</span></code></pre></div>
<p>Like FreeBSD‚Äôs <code>ifconfig</code>, these changes disappear after a
reboot ‚Äî great for testing or lab work.</p>
<p>Check your configuration anytime:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ip</span> a</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="ex">ip</span> r</span></code></pre></div>
<h3 id="persistent-configuration-distribution-specific">2. Persistent
Configuration (Distribution-Specific)</h3>
<p>Permanent network settings depend on your Linux distribution:</p>
<p><strong>Debian / Ubuntu (legacy):</strong>
<code>/etc/network/interfaces</code></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">auto</span> eth0</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="ex">iface</span> eth0 inet static</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">address</span> 10.0.2.10</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">netmask</span> 255.255.255.0</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="ex">gateway</span> 10.0.2.1</span></code></pre></div>
<p><strong>Modern Ubuntu (Netplan):</strong>
<code>/etc/netplan/01-eth0-config.yaml</code></p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">network</span><span class="kw">:</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="dv">2</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">ethernets</span><span class="kw">:</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">eth0</span><span class="kw">:</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">addresses</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">10.0.2.10/</span><span class="dv">24</span><span class="kw">]</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">gateway4</span><span class="kw">:</span><span class="at"> </span><span class="fl">10.0.2.1</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">nameservers</span><span class="kw">:</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">addresses</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="fl">8.8.8.8</span><span class="kw">,</span><span class="at"> </span><span class="fl">1.1.1.1</span><span class="kw">]</span></span></code></pre></div>
<p>Apply it: <code>sudo netplan apply</code></p>
<p><strong>Fedora/RHEL/CentOS(<code>nmcli</code>): Use
<code>nmcli</code> (NetworkManager)</strong></p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> nmcli con add type ethernet ifname eth0 con-name static-ip <span class="dt">\</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  ipv4.addresses 10.0.2.10/24 <span class="dt">\</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  ipv4.gateway 10.0.2.1 <span class="dt">\</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  ipv4.dns <span class="st">&quot;8.8.8.8&quot;</span> <span class="dt">\</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  ipv4.method manual</span></code></pre></div>
<p>Linux distributions give you options ‚Äî from simple scripts to full
network management frameworks ‚Äî which is both its power and its
complexity.</p>
<p>I personally prefer the Debian style.</p>
<h2 id="two-philosophies-one-purpose">Two Philosophies, One Purpose</h2>
<ul>
<li><p>FreeBSD (Persistent) Philosophy: Declarative, simple, unified
Config Method: /etc/rc.conf</p></li>
<li><p>FreeBSD (Temporary Lab) Philosophy: Manual &amp; quick Config
Method: ifconfig, route</p></li>
<li><p>Linux (Flexible) Philosophy: Flexible, layered Config Method: ip,
netplan, nmcli, etc. Persistence: Depends on the method</p></li>
</ul>
<p>FreeBSD keeps configuration centralized and consistent. Linux offers
modularity and choice, adapting to different environments ‚Äî from cloud
VMs to embedded systems.</p>
<p>Both are valid ‚Äî it just depends on whether you value clarity or
flexibility more.</p>
<h2 id="ready-to-try-it-yourself">Ready to Try It Yourself?</h2>
<p>The full hands-on lab for this article ‚Äî including <code>ip</code>
and <code>ifconfig</code> exercises ‚Äî is available here:</p>
<p>üëâ d3ep0ps Networking Foundations Lab on GitHub</p>
<p>You‚Äôll find:</p>
<ul>
<li>step-by-step missions for Linux and FreeBSD</li>
<li>troubleshooting and verification tips</li>
<li>and a bonus IPv6 challenge</li>
</ul>
<h2 id="coming-next-on-d3ep0ps">Coming Next on d3ep0ps</h2>
<p>In the next post, we‚Äôll build on this foundation and start talking
about firewalls:</p>
<pre><code>‚ÄúSecuring Unix Systems: pf vs iptables ‚Äî Why FreeBSD Still Wins.‚Äù</code></pre>
<p>We‚Äôll explore how each system protects itself, compare firewall
philosophies, and learn how to lock down our lab safely.</p>
<p>üß† Follow d3ep0ps on Medium to keep learning Unix, FreeBSD, and Cloud
networking ‚Äî one command at a time.</p>
<p>Connect on LinkedIn ‚Äî Let‚Äôs make engineering calm again.</p>
</body>
</html>
