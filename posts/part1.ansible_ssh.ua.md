# –ß–µ–∫–ª—ñ—Å—Ç –ë–µ–∑–ø–µ–∫–∏ –°–µ—Ä–≤–µ—Ä–∞ –î–µ–Ω—å-1: –ü–æ—Å–∏–ª–µ–Ω–Ω—è SSH –Ω–∞ Linux —Ç–∞ FreeBSD

**–ü—Ä–∏–ø–∏–Ω—ñ—Ç—å –ª–æ–≥—ñ–Ω–∏—Ç–∏—Å—è —è–∫ root. –ü—Ä–∏–ø–∏–Ω—ñ—Ç—å –≤–≤–æ–¥–∏—Ç–∏ –ø–∞—Ä–æ–ª—ñ. –ü—Ä–∏–ø–∏–Ω—ñ—Ç—å –¥–æ–≤—ñ—Ä—è—Ç–∏ —Å–æ–±—ñ "–ø–∞–º'—è—Ç–∞—Ç–∏" –ø—Ä–æ –±–µ–∑–ø–µ–∫—É. –ê–≤—Ç–æ–º–∞—Ç–∏–∑—É–π—Ç–µ —Ü–µ.**

–£ –Ω–∞—à—ñ–π –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π —Å—Ç–∞—Ç—Ç—ñ, ["–î–æ—Å–∏—Ç—å –ö–ª—ñ–∫–∞—Ç–∏: –®–ª—è—Ö –¥–æ Infrastructure as Code,"](https://d3ep0ps.com/#iac) –º–∏ –Ω–∞–≤—á–∏–ª–∏—Å—è –ø—ñ–¥–Ω—ñ–º–∞—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –Ω–∞ –∫—à—Ç–∞–ª—Ç Terraform —Ç–∞ Vagrant.

–ú–∏ –ø–æ–±—É–¥—É–≤–∞–ª–∏ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É. –¢–µ–ø–µ—Ä –º–∏ –ø–æ–≤–∏–Ω–Ω—ñ –∑–∞—Ö–∏—Å—Ç–∏—Ç–∏ —ó—ó.

–Ü—Å–Ω—É—î –ø—Ä–æ—Ç–≤–µ—Ä–µ–∑–ª–∏–≤–∞ —Ä–µ–∞–ª—å–Ω—ñ—Å—Ç—å —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–∞ –≤ –ø—É–±–ª—ñ—á–Ω–æ–º—É –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç—ñ: –ü—Ä–æ—Ç—è–≥–æ–º —Ö–≤–∏–ª–∏–Ω –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤—ñ–Ω –±—É–¥–µ –ø—Ä–æ—Å–∫–∞–Ω–æ–≤–∞–Ω–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–∏–º–∏ –±–æ—Ç–∞–º–∏, —â–æ —à—É–∫–∞—é—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ —Ç–∞ —Å–ª–∞–±–∫—ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó.

–¶–µ –Ω–µ –æ—Å–æ–±–∏—Å—Ç–µ. –¶–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–æ. –Ü —è–∫—â–æ –≤–∞—à –∑–∞—Ö–∏—Å—Ç –ø–æ–∫–ª–∞–¥–∞—î—Ç—å—Å—è –Ω–∞ —Ç–µ, —â–æ –≤–∏ –≤—Ä—É—á–Ω—É –ø–∞–º'—è—Ç–∞—î—Ç–µ –≤—ñ–¥—Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥-—Ñ–∞–π–ª–∏ –Ω–∞ –∫–æ–∂–Ω–æ–º—É –Ω–æ–≤–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ, –≤–∏ –≤—Ä–µ—à—Ç—ñ-—Ä–µ—à—Ç –∑–∞–∑–Ω–∞—î—Ç–µ –Ω–µ–≤–¥–∞—á—ñ.

–ë–µ–∑–ø–µ–∫–∞ ‚Äî —Ü–µ –Ω–µ "–¥–æ–¥–∞—Ç–æ–∫" –Ω–∞ –ø–æ—Ç—ñ–º. –¶–µ –≤–∏–º–æ–≥–∞ "–î–Ω—è-1", —è–∫–∞ –º–∞—î –±—É—Ç–∏ "–∑–∞–ø–µ—á–µ–Ω–∞" —É –≤–∞—à—É –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—é.

–¶—è —Å—Ç–∞—Ç—Ç—è —î –ß–∞—Å—Ç–∏–Ω–æ—é 1 —Å–µ—Ä—ñ—ó –∑ –¥–≤–æ—Ö —á–∞—Å—Ç–∏–Ω –ø—Ä–æ –∑–∞—Ö–∏—Å—Ç Unix-—Å–∏—Å—Ç–µ–º. –ß–∏ —Ä–æ–∑–≥–æ—Ä—Ç–∞—î—Ç–µ –≤–∏ Ubuntu Linux, —á–∏ –∑–∞–ø—É—Å–∫–∞—î—Ç–µ –∑–∞—Ö–∏—â–µ–Ω–∏–π FreeBSD jail, –ø—Ä–∏–Ω—Ü–∏–ø–∏ —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ –æ–¥–Ω–∞–∫–æ–≤—ñ. –°—å–æ–≥–æ–¥–Ω—ñ –º–∏ —Ñ–æ–∫—É—Å—É—î–º–æ—Å—è –Ω–∞ **–†—ñ–≤–Ω—ñ –Ü–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ —Ç–∞ –î–æ—Å—Ç—É–ø—É**: –∑–∞—Ö–∏—Å—Ç—ñ —Ç–æ–≥–æ, *—Ö—Ç–æ* –º–æ–∂–µ –∑–∞–ª–æ–≥—ñ–Ω–∏—Ç–∏—Å—è —ñ *—è–∫*, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ SSH —Ç–∞ Ansible.

## ‚ö†Ô∏è –ü—Ä–∞–≤–∏–ª–∞ –í–∑–∞—î–º–æ–¥—ñ—ó: –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –¶–µ –°–ø–æ—á–∞—Ç–∫—É

–ü–µ—Ä—à –Ω—ñ–∂ –º–∏ –ø–æ—á–Ω–µ–º–æ, –∫—Ä–∏—Ç–∏—á–Ω–µ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è. –ú–∏ –∑–±–∏—Ä–∞—î–º–æ—Å—è –º–æ–¥–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ –æ—Å–Ω–æ–≤–Ω–∏–π —Å–ø–æ—Å—ñ–± –≤–∞—à–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –¥–æ —Å–µ—Ä–≤–µ—Ä–∞ (SSH).

**–ü–æ–º–∏–ª–∫–∏ —Ç—É—Ç –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ñ—á–Ω—ñ.** –û–¥—Ä—É–∫—ñ–≤–∫–∞ –≤ –∫–æ–Ω—Ñ—ñ–≥-—Ñ–∞–π–ª—ñ SSH –º–æ–∂–µ –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–±–ª–æ–∫—É–≤–∞—Ç–∏ –≤–∞–º –¥–æ—Å—Ç—É–ø. –ù–µ–º–∞—î –∫–Ω–æ–ø–∫–∏ "—Å–∫–∞—Å—É–≤–∞—Ç–∏", —è–∫ —Ç—ñ–ª—å–∫–∏ –∑'—î–¥–Ω–∞–Ω–Ω—è —Ä–æ–∑—ñ—Ä–≤–∞–Ω–æ. –í–∞–º, –π–º–æ–≤—ñ—Ä–Ω–æ, –¥–æ–≤–µ–¥–µ—Ç—å—Å—è –∑–Ω–∏—â–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä —ñ –ø–æ—á–∞—Ç–∏ —Å–ø–æ—á–∞—Ç–∫—É.

–°–ª—ñ–¥—É–π—Ç–µ —Ü–∏–º –ø—Ä–∞–≤–∏–ª–∞–º, —â–æ–± –∑–∞–ª–∏—à–∞—Ç–∏—Å—è –≤ –±–µ–∑–ø–µ—Ü—ñ:

1.  **–ù—ñ–∫–æ–ª–∏ –Ω–µ –ø—Ä–∞—Ü—é–π—Ç–µ —Å–ø–æ—á–∞—Ç–∫—É –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω —Å–µ—Ä–≤–µ—Ä—ñ.** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É VM (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Vagrant) –∞–±–æ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–∏–π —Ö–º–∞—Ä–Ω–∏–π —ñ–Ω—Å—Ç–∞–Ω—Å –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤–∞—à–∏—Ö –ø–ª–µ–π–±—É–∫—ñ–≤.
2.  **–ó–∞–≤–∂–¥–∏ —Ç—Ä–∏–º–∞–π—Ç–µ –æ–¥–Ω—É root-—Å–µ—Å—ñ—é –≤—ñ–¥–∫—Ä–∏—Ç–æ—é.** –ü–µ—Ä–µ–¥ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è–º –∑–º—ñ–Ω, —è–∫—ñ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—é—Ç—å SSH, —Ç—Ä–∏–º–∞–π—Ç–µ –æ–¥–Ω–µ –∞–∫—Ç–∏–≤–Ω–µ —Ç–µ—Ä–º—ñ–Ω–∞–ª—å–Ω–µ –∑'—î–¥–Ω–∞–Ω–Ω—è –≤—ñ–¥–∫—Ä–∏—Ç–∏–º –¥–æ —Å–µ—Ä–≤–µ—Ä–∞. –Ø–∫—â–æ –≤–∏ –∑–∞–±–ª–æ–∫—É—î—Ç–µ —Å–µ–±–µ, —Ü—è —ñ—Å–Ω—É—é—á–∞ —Å–µ—Å—ñ—è –º–æ–∂–µ –±—É—Ç–∏ –≤–∞—à–∏–º —î–¥–∏–Ω–∏–º —à–ª—è—Ö–æ–º –Ω–∞–∑–∞–¥, —â–æ–± –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ —Ü–µ.
3.  **–ü–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ —Å–≤—ñ–π –¥–æ—Å—Ç—É–ø –Ω–µ–≥–∞–π–Ω–æ.** –ü—ñ—Å–ª—è –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –±—É–¥—å-—è–∫–∏—Ö –∑–º—ñ–Ω –≤—ñ–¥–∫—Ä–∏–π—Ç–µ *–Ω–æ–≤–µ* –≤—ñ–∫–Ω–æ —Ç–µ—Ä–º—ñ–Ω–∞–ª—É —ñ —Å–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ª–æ–≥—ñ–Ω–∏—Ç–∏—Å—è. –ù–µ –∑–∞–∫—Ä–∏–≤–∞–π—Ç–µ –≤–∞—à—É –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—É —Å–µ—Å—ñ—é, –¥–æ–∫–∏ –Ω–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ, —â–æ –Ω–æ–≤–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –ø—Ä–∞—Ü—é—î.
4.  **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ñ—É–Ω–∫—Ü—ñ—ó –±–µ–∑–ø–µ–∫–∏ Ansible.** –ú–∏ –±—É–¥–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∫–æ–º–∞–Ω–¥–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –≤ –Ω–∞—à–∏—Ö –ø–ª–µ–π–±—É–∫–∞—Ö, —â–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ–Ω—Ñ—ñ–≥-—Ñ–∞–π–ª—É –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º —Å–µ—Ä–≤—ñ—Å—ñ–≤. –ù–µ –≤–∏–¥–∞–ª—è–π—Ç–µ —ó—Ö.

## –§–∞–∑–∞ 1: –õ–æ–∫–∞–ª—å–Ω–∞ –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ (–†—ñ–≤–µ–Ω—å –Ü–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ)

–ú–∏ –Ω–µ –º–æ–∂–µ–º–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑—É–≤–∞—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–∞—à–æ—ó –ø—Ä–∏–≤–∞—Ç–Ω–æ—ó —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ. –¶–µ —î–¥–∏–Ω–∏–π —Ä—É—á–Ω–∏–π –∫—Ä–æ–∫, —è–∫–∏–π –≤–∏ –ø–æ–≤–∏–Ω–Ω—ñ –∑—Ä–æ–±–∏—Ç–∏ –Ω–∞ –≤–∞—à—ñ–π –ª–æ–∫–∞–ª—å–Ω—ñ–π –º–∞—à–∏–Ω—ñ, —â–æ–± –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏, *—Ö—Ç–æ –≤–∏ —î*. –£ –≤–∞—Å —î –¥–≤—ñ –æ–ø—Ü—ñ—ó –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∫–ª—é—á—ñ–≤.

### –û–ø—Ü—ñ—è A: –°—Ç–∞–Ω–¥–∞—Ä—Ç (–ü—Ä–æ–≥—Ä–∞–º–Ω—ñ –ö–ª—é—á—ñ Ed25519)

–Ø–∫—â–æ –≤–∏ –≤—Å–µ —â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ 2048-–±—ñ—Ç–Ω—ñ RSA –∫–ª—é—á—ñ, —á–∞—Å –æ–Ω–æ–≤–∏—Ç–∏—Å—è. –°—É—á–∞—Å–Ω–∏–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–Ω–∏—Ö –∫–ª—é—á—ñ–≤ —î **Ed25519**. –í—ñ–Ω –º–µ–Ω—à–∏–π, —à–≤–∏–¥—à–∏–π —ñ –±–µ–∑–ø–µ—á–Ω—ñ—à–∏–π –∑–∞ —Å—Ç–∞—Ä—ñ —Ç–∏–ø–∏.

–ù–∞ –≤–∞—à—ñ–π –ª–æ–∫–∞–ª—å–Ω—ñ–π –º–∞—à–∏–Ω—ñ (macOS, Linux –∞–±–æ BSD) –∑–≥–µ–Ω–µ—Ä—É–π—Ç–µ –Ω–æ–≤—É –ø–∞—Ä—É –∫–ª—é—á—ñ–≤:

```bash
ssh-keygen -t ed25519 -C "your_email@example.com"
```

### –û–ø—Ü—ñ—è B: –ó–æ–ª–æ—Ç–∏–π –°—Ç–∞–Ω–¥–∞—Ä—Ç (–ê–ø–∞—Ä–∞—Ç–Ω—ñ –ö–ª—é—á—ñ FIDO)

–î–ª—è –Ω–∞–π–≤–∏—â–æ–≥–æ —Ä—ñ–≤–Ω—è –±–µ–∑–ø–µ–∫–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∞–ø–∞—Ä–∞—Ç–Ω–∏–π –∫–ª—é—á –±–µ–∑–ø–µ–∫–∏, —Ç–∞–∫–∏–π —è–∫ YubiKey.

–°—É—á–∞—Å–Ω—ñ –≤–µ—Ä—Å—ñ—ó OpenSSH –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å —Ç–æ–∫–µ–Ω–∏ FIDO/U2F –Ω–∞—Ç–∏–≤–Ω–æ. –ö–æ–ª–∏ –≤–∏ –≥–µ–Ω–µ—Ä—É—î—Ç–µ —Ü–µ–π —Ç–∏–ø –∫–ª—é—á–∞, –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—ñ—á–Ω–∏–π –º–∞—Ç–µ—Ä—ñ–∞–ª –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –Ω–∞ –∞–ø–∞—Ä–∞—Ç–Ω–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó —ñ **–Ω—ñ–∫–æ–ª–∏ –Ω–µ –∑–∞–ª–∏—à–∞—î –π–æ–≥–æ**.

–©–æ–± –∑–∞–ª–æ–≥—ñ–Ω–∏—Ç–∏—Å—è, –≤–∏ –ø–æ–≤–∏–Ω–Ω—ñ –º–∞—Ç–∏ —Ñ—ñ–∑–∏—á–Ω–∏–π –ø—Ä–∏—Å—Ç—Ä—ñ–π, –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏–π –¥–æ –≤–∞—à–æ–≥–æ –∫–æ–º–ø'—é—Ç–µ—Ä–∞, *—ñ* —Ñ—ñ–∑–∏—á–Ω–æ —Ç–æ—Ä–∫–Ω—É—Ç–∏—Å—è –π–æ–≥–æ, —â–æ–± –ø—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –≤–∞—à—É –ø—Ä–∏—Å—É—Ç–Ω—ñ—Å—Ç—å. –¶–µ —Ä–æ–±–∏—Ç—å –≤—ñ–¥–¥–∞–ª–µ–Ω—É –∫—Ä–∞–¥—ñ–∂–∫—É –≤–∞—à–∏—Ö –∫–ª—é—á—ñ–≤ –ø—Ä–∞–∫—Ç–∏—á–Ω–æ –Ω–µ–º–æ–∂–ª–∏–≤–æ—é.

–©–æ–± –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∞–ø–∞—Ä–∞—Ç–Ω–∏–π –∫–ª—é—á (–ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∞—à —Ç–æ–∫–µ–Ω –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏–π):

```bash
# '-sk' –æ–∑–Ω–∞—á–∞—î Security Key
ssh-keygen -t ecdsa-sk -C "yubikey_2025"
```

*(–ü—Ä–∏–º—ñ—Ç–∫–∞: –ù–∞ macOS –∞–±–æ –¥–µ—è–∫–∏—Ö –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞—Ö Linux –≤–∞–º –º–æ–∂–µ –∑–Ω–∞–¥–æ–±–∏—Ç–∏—Å—è –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ middleware, —Ç–∞–∫—ñ —è–∫ `libfido2`, —â–æ–± —Ü—è –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–∞—Ü—é–≤–∞–ª–∞.)*

### –í–∞–∂–ª–∏–≤—ñ—Å—Ç—å –ü–∞—Ä–æ–ª—å–Ω–∏—Ö –§—Ä–∞–∑ (Passphrases)

–Ø–∫—É –± –æ–ø—Ü—ñ—é –≤–∏ –Ω–µ –æ–±—Ä–∞–ª–∏, –ø—Ä–æ–º–ø—Ç –∑–∞–ø–∏—Ç–∞—î –ø–∞—Ä–æ–ª—å–Ω—É —Ñ—Ä–∞–∑—É. **–ù–µ –ø—Ä–æ–ø—É—Å–∫–∞–π—Ç–µ —Ü–µ.**

–ü—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–ª—é—á SSH –±–µ–∑ –ø–∞—Ä–æ–ª—å–Ω–æ—ó —Ñ—Ä–∞–∑–∏ ‚Äî —Ü–µ –ø—Ä–æ—Å—Ç–æ —Ñ–∞–π–ª. –Ø–∫—â–æ —Ö—Ç–æ—Å—å –≤–∫—Ä–∞–¥–µ –≤–∞—à –Ω–æ—É—Ç–±—É–∫, –≤–æ–Ω–∏ –≤–æ–ª–æ–¥—ñ—é—Ç—å –≤–∞—à–∏–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏. –°–∏–ª—å–Ω–∞ –ø–∞—Ä–æ–ª—å–Ω–∞ —Ñ—Ä–∞–∑–∞ —à–∏—Ñ—Ä—É—î –∫–ª—é—á —É —Å—Ç–∞–Ω—ñ —Å–ø–æ–∫–æ—é.

### –ñ–∏—Ç—Ç—è –∑ –ü–∞—Ä–æ–ª—å–Ω–∏–º–∏ –§—Ä–∞–∑–∞–º–∏ (ssh-agent)

–ë–µ–∑–ø–µ–∫–∞ –±–æ—Ä–µ—Ç—å—Å—è –∑—ñ –∑—Ä—É—á–Ω—ñ—Å—Ç—é. –í–≤–æ–¥–∏—Ç–∏ –¥–æ–≤–≥—É –ø–∞—Ä–æ–ª—å–Ω—É —Ñ—Ä–∞–∑—É –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É, –∫–æ–ª–∏ –≤–∏ SSH-–∏—Ç–µ—Å—è, –¥—Ä–∞—Ç—É—î. –†—ñ—à–µ–Ω–Ω—è–º —î **SSH Agent**, —è–∫–∏–π —Ç—Ä–∏–º–∞—î –≤–∞—à —Ä–æ–∑—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–π –∫–ª—é—á –±–µ–∑–ø–µ—á–Ω–æ –≤ –ø–∞–º'—è—Ç—ñ –¥–ª—è –≤–∞—à–æ—ó —Å–µ—Å—ñ—ó.

  * –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –Ω–æ—É—Ç–±—É–∫.
  * –ó–∞–ø—É—Å—Ç—ñ—Ç—å `ssh-add` —ñ –≤–≤–µ–¥—ñ—Ç—å –≤–∞—à—É –ø–∞—Ä–æ–ª—å–Ω—É —Ñ—Ä–∞–∑—É –æ–¥–∏–Ω —Ä–∞–∑.
  * –ü—Ä–∞—Ü—é–π—Ç–µ –≤–µ—Å—å –¥–µ–Ω—å, –Ω–µ –≤–≤–æ–¥—è—á–∏ —ó—ó –∑–Ω–æ–≤—É.

## –ü—Ä–æ–±–ª–µ–º–∞ "Bootstrap": –ü–æ—Ç—Ä–∞–ø–∏—Ç–∏ –í—Å–µ—Ä–µ–¥–∏–Ω—É –í–ø–µ—Ä—à–µ

–ü–µ—Ä—à –Ω—ñ–∂ –º–∏ –ø–æ–¥–∏–≤–∏–º–æ—Å—è –Ω–∞ –∫–æ–¥ Ansible, –º–∏ –ø–æ–≤–∏–Ω–Ω—ñ –≤–∏—Ä—ñ—à–∏—Ç–∏ –ø–æ—à–∏—Ä–µ–Ω—É –ø—Ä–æ–±–ª–µ–º—É –∫—É—Ä–∫–∏ —ñ —è–π—Ü—è.

–©–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ø–ª–µ–π–±—É–∫ Ansible, —è–∫–∏–π –∑–∞—Ö–∏—â–∞—î —Å–µ—Ä–≤–µ—Ä, Ansible —Å–ø–æ—á–∞—Ç–∫—É –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–∞–ª–æ–≥—ñ–Ω–∏—Ç–∏—Å—è –Ω–∞ —Ü–µ–π —Å–µ—Ä–≤–µ—Ä –∑ —ñ—Å–Ω—É—é—á–∏–º–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏.

–ö–æ–∂–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –ø–æ-—Ä—ñ–∑–Ω–æ–º—É:

  * **–õ–æ–∫–∞–ª—å–Ω—ñ VM (Vagrant):** –ó–∞–∑–≤–∏—á–∞–π –Ω–∞–¥–∞—é—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ `vagrant` –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–º sudo –±–µ–∑ –ø–∞—Ä–æ–ª—è.
  * **VPS –ü—Ä–æ–≤–∞–π–¥–µ—Ä–∏ (–Ω–∞–ø—Ä., DigitalOcean):** –ß–∞—Å—Ç–æ –Ω–∞–¥–∞—é—Ç—å `root` –ª–æ–≥—ñ–Ω, –∞–±–æ –∑ –Ω–∞–¥—ñ—Å–ª–∞–Ω–∏–º –Ω–∞ email –ø–∞—Ä–æ–ª–µ–º, –∞–±–æ –∑ SSH-–∫–ª—é—á–µ–º, —è–∫–∏–π –≤–∏ –≤–∏–±—Ä–∞–ª–∏ –ø—ñ–¥ —á–∞—Å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è.
  * **–•–º–∞—Ä–Ω—ñ –ü–ª–∞—Ç—Ñ–æ—Ä–º–∏ (–Ω–∞–ø—Ä., GCP, AWS):** –¶—ñ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø—ñ–¥ –Ω–∞–∑–≤–æ—é **cloud-init**, —è–∫–∏–π –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ. –í—ñ–Ω —á–∏—Ç–∞—î –º–µ—Ç–∞–¥–∞–Ω—ñ, —è–∫—ñ –≤–∏ –Ω–∞–¥–∞—î—Ç–µ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∞—à –ø—É–±–ª—ñ—á–Ω–∏–π –∫–ª—é—á SSH), —ñ –Ω–∞–ª–∞—à—Ç–æ–≤—É—î –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–Ω–∞–ø—Ä., `ubuntu`, `ec2-user`), —â–æ–± –≤–∏ –º–æ–≥–ª–∏ –∑–∞–ª–æ–≥—ñ–Ω–∏—Ç–∏—Å—è.

**–¶–µ –≤–∞—à "Bootstrap User".**

–í–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î—Ç–µ —Ü—å–æ–≥–æ –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ, —á–∞—Å—Ç–æ –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Ä—ñ–≤–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑: —â–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ø–ª–µ–π–±—É–∫ –ø–æ—Å–∏–ª–µ–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏ (hardening playbook). –ú–µ—Ç–∞ –ø–ª–µ–π–±—É–∫–∞ ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ü–µ–π —Ç–∏–º—á–∞—Å–æ–≤–∏–π –¥–æ—Å—Ç—É–ø, —â–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≤–∞—à–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–æ–≥–æ, –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –∞–¥–º—ñ–Ω-–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –∞ –ø–æ—Ç—ñ–º –≥—Ä—é–∫–Ω—É—Ç–∏ –¥–≤–µ—Ä–∏–º–∞ –ø–µ—Ä–µ–¥ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ bootstrap.

–í —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è—Ö –¥–æ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä—ñ—ó –Ω–∏–∂—á–µ –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ, –¥–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Ü—å–æ–≥–æ bootstrap –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —É —Ñ–∞–π–ª—ñ —ñ–Ω–≤–µ–Ω—Ç–∞—Ä—è Ansible, —â–æ–± –≤—ñ–Ω –∑–Ω–∞–≤, —è–∫ –∑—Ä–æ–±–∏—Ç–∏ —Ü–µ –Ω–∞–π–ø–µ—Ä—à–µ –∑'—î–¥–Ω–∞–Ω–Ω—è.

## –§–∞–∑–∞ 2: –ü—ñ–¥—Ö—ñ–¥ Ansible –¥–æ –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏

–ó Ansible –º–∏ –≤–∏–∑–Ω–∞—á–∞—î–º–æ –±–∞–∂–∞–Ω–∏–π —Å—Ç–∞–Ω –Ω–∞—à–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —É YAML. –¶–µ–π –ø—ñ–¥—Ö—ñ–¥ –ø—Ä–∞—Ü—é—î –±–µ–∑—à–æ–≤–Ω–æ —è–∫ –Ω–∞ Linux, —Ç–∞–∫ —ñ –Ω–∞ FreeBSD. –ù–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω –Ω–µ-root –∞–¥–º—ñ–Ω-–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —ñ–∑ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–º –≤–∞—à–∏–º –ü—É–±–ª—ñ—á–Ω–∏–º SSH –ö–ª—é—á–µ–º.

–ü–æ—Å–∏–ª–µ–Ω–Ω—è SSH ‚Äî —Ü–µ –Ω–µ –ø—Ä–æ –ø–∞—Ä–∞–Ω–æ—é.
–¶–µ –ø—Ä–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –ª—é–¥—Å—å–∫–æ—ó –ø–æ–º–∏–ª–∫–∏ –∑ —Ä—ñ–≤–Ω—è–Ω–Ω—è.
–°–∏—Å—Ç–µ–º–∏ –ø–æ–≤–∏–Ω–Ω—ñ "fail closed" (–∑–∞–∫—Ä–∏–≤–∞—Ç–∏—Å—è –ø—Ä–∏ –∑–±–æ—ó), –∞ –Ω–µ "fail open". –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ ‚Äî —Ü–µ –ø–µ—Ä—à–∏–π –∫—Ä–æ–∫ –¥–æ –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ—ó, –±–µ–∑–ø–µ—á–Ω–æ—ó —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏.

```yaml
# vars/main.yml
admin_user: "d3ep0ps_admin"
# –í—Å—Ç–∞–≤—Ç–µ –≤–º—ñ—Å—Ç –≤–∞—à–æ–≥–æ –õ–û–ö–ê–õ–¨–ù–û–ì–û ~/.ssh/id_ed25519.pub (–∞–±–æ id_ecdsa_sk.pub) —Å—é–¥–∏
admin_ssh_pub_key: "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAI..."

# playbook.yml tasks
- name: Ensure admin user exists
  user:
    name: "{{ admin_user }}"
    # –ù–∞ Linux –≥—Ä—É–ø–∞ 'sudo' –∑–∞–∑–≤–∏—á–∞–π –¥–∞—î –ø—Ä–∞–≤–∞ –∞–¥–º—ñ–Ω–∞.
    # –ù–∞ FreeBSD –≤–∏ –∑–∞–∑–≤–∏—á–∞–π –¥–æ–¥–∞—î—Ç–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –¥–æ –≥—Ä—É–ø–∏ 'wheel'.
    groups: "{{ 'wheel' if ansible_os_family == 'FreeBSD' else 'sudo' }}"
    shell: /bin/sh
    append: yes
    state: present

- name: Deploy SSH public key for admin user
  authorized_key:
    user: "{{ admin_user }}"
    state: present
    key: "{{ admin_ssh_pub_key }}"
```

## –§–∞–∑–∞ 3: –ü–æ—Å–∏–ª–µ–Ω–Ω—è –î–µ–º–æ–Ω–∞ (sshd\_config as Code)

## üö® –ù–ï–ë–ï–ó–ü–ï–ß–ù–ê –ó–û–ù–ê: –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è SSH

**–ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è:** –¶—è —Å–µ–∫—Ü—ñ—è –º–æ–¥–∏—Ñ—ñ–∫—É—î –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –¥–µ–º–æ–Ω–∞ SSH. –Ø–∫—â–æ –≤–∏ –∑—Ä–æ–±–∏—Ç–µ –ø–æ–º–∏–ª–∫—É —ñ SSH –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è, –≤–∏ –±—É–¥–µ—Ç–µ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω—ñ. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏ –¥–æ—Ç—Ä–∏–º—É–≤–∞–ª–∏—Å—è "–ü—Ä–∞–≤–∏–ª –í–∑–∞—î–º–æ–¥—ñ—ó" –≤–∏—â–µ.

–ù–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—ñ–¥—Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ `/etc/ssh/sshd_config`, —â–æ–± –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –¥–≤–∞ –∫—Ä–∏—Ç–∏—á–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:

1.  **`PasswordAuthentication no`**: –í—ñ–¥—Ö–∏–ª—è—Ç–∏ *–±—É–¥—å-—è–∫—É* —Å–ø—Ä–æ–±—É –∑–∞–ª–æ–≥—ñ–Ω–∏—Ç–∏—Å—è –∑ –ø–∞—Ä–æ–ª–µ–º.
2.  **`PermitRootLogin no`**: –ó–º—É—Å–∏—Ç–∏ –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫—ñ–≤ –≤–≥–∞–¥–∞—Ç–∏ –≤–∞–ª—ñ–¥–Ω–µ —ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ *—ñ* –º–∞—Ç–∏ –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–ª—é—á —Ü—å–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

–ú–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –º–æ–¥—É–ª—å Ansible `lineinfile`, —â–æ–± –±–µ–∑–ø–µ—á–Ω–æ —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Ñ–∞–π–ª, —ñ **handler** (–æ–±—Ä–æ–±–Ω–∏–∫), —â–æ–± –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –¥–µ–º–æ–Ω SSH —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ –≤—ñ–¥–±—É–ª–∞—Å—è –∑–º—ñ–Ω–∞.

```yaml
# playbook.yml tasks
- name: Disable Password Authentication
  lineinfile:
    path: /etc/ssh/sshd_config
    regexp: '^#?PasswordAuthentication'
    line: 'PasswordAuthentication no'
    # –ö–æ–º–∞–Ω–¥–∞ validate –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –î–û –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è, –∑–∞–ø–æ–±—ñ–≥–∞—é—á–∏ –±–∞–≥–∞—Ç—å–æ–º –±–ª–æ–∫—É–≤–∞–Ω–Ω—è–º
    validate: '/usr/sbin/sshd -t -f %s'
  notify: Restart SSH

- name: Disable Root Login
  lineinfile:
    path: /etc/ssh/sshd_config
    regexp: '^#?PermitRootLogin'
    line: 'PermitRootLogin no'
    validate: '/usr/sbin/sshd -t -f %s'
  notify: Restart SSH

# handlers/main.yml
- name: Restart SSH
  service:
    name: sshd
    state: restarted
```

*(–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É –Ω–∞ –∫–æ–º–∞–Ω–¥—É `validate`. –¶–µ –∫—Ä–∏—Ç–∏—á–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –±–µ–∑–ø–µ–∫–∏. –í–æ–Ω–∞ –∑–∞–ø—É—Å–∫–∞—î `sshd -t` (—Ç–µ—Å—Ç–æ–≤–∏–π —Ä–µ–∂–∏–º) –ø—Ä–æ—Ç–∏ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ñ—ñ–≥-—Ñ–∞–π–ª—É. –Ø–∫—â–æ —î —Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω–∞ –ø–æ–º–∏–ª–∫–∞, Ansible –≤–ø–∞–¥–µ —ñ –ù–ï –∑–±–µ—Ä–µ–∂–µ –∑–ª–∞–º–∞–Ω–∏–π —Ñ–∞–π–ª, —Ä—è—Ç—É—é—á–∏ –≤–∞—Å –≤—ñ–¥ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è.)*

## üß™ –ü—Ä–∞–∫—Ç–∏—á–Ω–∞ –õ–∞–±–æ—Ä–∞—Ç–æ—Ä—ñ—è: –ó–∞–±–ª–æ–∫—É–π—Ç–µ –°–µ—Ä–≤–µ—Ä (–ë–µ–∑–ø–µ—á–Ω–æ)

–ù–µ –ø—Ä–æ—Å—Ç–æ —á–∏—Ç–∞–π—Ç–µ —Ü–µ–π –∫–æ–¥ ‚Äî –∑–∞–ø—É—Å—Ç—ñ—Ç—å –π–æ–≥–æ –≤ –±–µ–∑–ø–µ—á–Ω–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ.

–Ø —Å—Ç–≤–æ—Ä–∏–≤ –Ω–æ–≤–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π GitHub, **`security-lab`**, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å –ø–æ–≤–Ω–∏–π –ø–ª–µ–π–±—É–∫ Ansible, —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π –¥–ª—è —Ä–æ–±–æ—Ç–∏ —è–∫ –ø—Ä–æ—Ç–∏ Linux, —Ç–∞–∫ —ñ –ø—Ä–æ—Ç–∏ FreeBSD —Ü—ñ–ª–µ–π.

**üëâ –ö–ª–æ–Ω—É–π—Ç–µ –õ–∞–±—É:** [github.com/d3ep0ps/security-lab](https://github.com/d3ep0ps/security-lab)

### –ú—ñ—Å—ñ—è

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—É –≤—ñ—Ä—Ç—É–∞–ª—å–Ω—É –º–∞—à–∏–Ω—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å—Ç–≤–æ—Ä–µ–Ω—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Vagrant –∞–±–æ —Å–≤—ñ–∂–∏–π —Ö–º–∞—Ä–Ω–∏–π —ñ–Ω—Å—Ç–∞–Ω—Å). –î–æ—Ç—Ä–∏–º—É–π—Ç–µ—Å—å —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π —É `README.md` —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é, —â–æ–± –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –≤–∞—à —ñ–Ω–≤–µ–Ω—Ç–∞—Ä —ñ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ø–ª–µ–π–±—É–∫.

**–í–∞—à–∞ –ú–µ—Ç–∞:** –ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É –ø–ª–µ–π–±—É–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –ª–æ–≥—ñ–Ω –∑ –ø–∞—Ä–æ–ª–µ–º —ñ root-–ª–æ–≥—ñ–Ω —Ç–µ–ø–µ—Ä –Ω–µ –ø—Ä–∞—Ü—é—é—Ç—å, —ñ —Ç—ñ–ª—å–∫–∏ –≤–∞—à –Ω–æ–≤–∏–π –∞–¥–º—ñ–Ω-–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑ –∫–ª—é—á–µ–º –º–æ–∂–µ –ø–æ—Ç—Ä–∞–ø–∏—Ç–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—É.

## –ù–∞—Å—Ç—É–ø–Ω—ñ –ö—Ä–æ–∫–∏

–†—ñ–≤–µ–Ω—å —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ –≤–∞—à–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —Ç–µ–ø–µ—Ä –∑–∞—Ö–∏—â–µ–Ω–∏–π. –ê–ª–µ –º–µ—Ä–µ–∂–µ–≤—ñ –¥–≤–µ—Ä—ñ ‚Äî –ø–æ—Ä—Ç 22 ‚Äî –≤—Å–µ —â–µ —à–∏—Ä–æ–∫–æ –≤—ñ–¥–∫—Ä–∏—Ç—ñ –¥–ª—è –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç—É.

–£ **–ß–∞—Å—Ç–∏–Ω—ñ 2** —Ü—ñ—î—ó —Å–µ—Ä—ñ—ó –º–∏ —É–≤—ñ–π–¥–µ–º–æ –≤ —ñ–Ω—à—É –Ω–µ–±–µ–∑–ø–µ—á–Ω—É –∑–æ–Ω—É: **–ü–æ–±—É–¥–æ–≤–∞ –ü–µ—Ä–∏–º–µ—Ç—Ä–∞**. –ú–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ Ansible –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ñ–∞—î—Ä–≤–æ–ª—ñ–≤ (UFW –Ω–∞ Linux, PF –Ω–∞ FreeBSD) —ñ –≤—Å—Ç–∞–Ω–æ–≤–∏–º–æ –∞–∫—Ç–∏–≤–Ω–∏–π –∑–∞—Ö–∏—Å—Ç (Fail2Ban), —â–æ–± –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –±–ª–æ–∫—É–≤–∞—Ç–∏ —à–∫—ñ–¥–ª–∏–≤—ñ IP.
