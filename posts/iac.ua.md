# –î–æ—Å–∏—Ç—å –ö–ª—ñ–∫–∞—Ç–∏: –®–ª—è—Ö –¥–æ Infrastructure as Code

*–í—ñ–¥ Vagrant –Ω–∞ –≤–∞—à–æ–º—É –Ω–æ—É—Ç–±—É—Ü—ñ –¥–æ Terraform —É —Ö–º–∞—Ä—ñ ‚Äî —è–∫ –±—É–¥—É–≤–∞—Ç–∏ —Å–∏—Å—Ç–µ–º–∏, —â–æ –≤–∏–∂–∏–≤–∞—é—Ç—å.*

–ú–∏ –æ–±—Ä–∞–ª–∏ –Ω–∞—à—É –û–ø–µ—Ä–∞—Ü—ñ–π–Ω—É –°–∏—Å—Ç–µ–º—É (Linux –∞–±–æ FreeBSD). –ú–∏ –Ω–∞–≤—á–∏–ª–∏—Å—è —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Ñ–∞–π–ª–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `vi`. –ú–∏ –∑—Ä–æ–∑—É–º—ñ–ª–∏, —è–∫ –§–∞—î—Ä–≤–æ–ª —Ç–∞ –•–º–∞—Ä–Ω—ñ –§–∞—î—Ä–≤–æ–ª–∏ —Ñ—ñ–ª—å—Ç—Ä—É—é—Ç—å —Ç—Ä–∞—Ñ—ñ–∫ –¥–æ —Ç–æ–≥–æ, —è–∫ –≤—ñ–Ω –¥–æ—Å—è–≥–Ω–µ –Ω–∞—Å.

–ê–ª–µ –Ω–∞ –Ω–∞—Å –≤—Å–µ —â–µ —á–µ–∫–∞—î –Ω–µ–±–µ–∑–ø–µ—á–Ω–∞ –ø–∞—Å—Ç–∫–∞.

–¶–µ –ø–∞—Å—Ç–∫–∞ "Pet Server" (–°–µ—Ä–≤–µ—Ä-–£–ª—é–±–ª–µ–Ω–µ—Ü—å).

–í–∏ –∑–Ω–∞—î—Ç–µ —Ü–µ–π —Å–µ—Ä–≤–µ—Ä. –¶–µ —Ç–æ–π, —è–∫–∏–π –≤–∏ –≤—Ä—É—á–Ω—É –≤—Å—Ç–∞–Ω–æ–≤–∏–ª–∏, –≤—Ä—É—á–Ω—É –ø—Ä–æ–ø–∞—Ç—á–∏–ª–∏ —ñ –≤—Ä—É—á–Ω—É –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞–ª–∏ –ø—Ä–æ—Ç—è–≥–æ–º —Ç—Ä—å–æ—Ö —Ä–æ–∫—ñ–≤. –í—ñ–Ω –ø—Ä–∞—Ü—é—î —ñ–¥–µ–∞–ª—å–Ω–æ, –∞–ª–µ –≤–∏ –±–æ—ó—Ç–µ—Å—è –π–æ–≥–æ —Ç–æ—Ä–∫–∞—Ç–∏—Å—è. –Ø–∫—â–æ –≤—ñ–Ω –ø–æ–º—Ä–µ, –≤–∏ –Ω–µ –∑–Ω–∞—î—Ç–µ, —á–∏ –∑–º–æ–∂–µ—Ç–µ –∫–æ–ª–∏-–Ω–µ–±—É–¥—å –ø–æ–±—É–¥—É–≤–∞—Ç–∏ –π–æ–≥–æ –∑–Ω–æ–≤—É.

–¶—è —Å—Ç–∞—Ç—Ç—è –ø—Ä–æ –≤—Ç–µ—á—É –≤—ñ–¥ —Ü—å–æ–≥–æ —Å—Ç—Ä–∞—Ö—É.

–í–æ–Ω–∞ –ø—Ä–æ **Infrastructure as Code (IaC)** ‚Äî –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω—É –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –≤–∞—à–∏—Ö —Å–∏—Å—Ç–µ–º —É —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö —Ñ–∞–π–ª–∞—Ö, –∞ –Ω–µ –≤ —Ä—É—á–Ω–∏—Ö –∫–ª—ñ–∫–∞—Ö.

–ú–∏ –ø–æ—á–Ω–µ–º–æ –ª–æ–∫–∞–ª—å–Ω–æ, —É –±–µ–∑–ø–µ—Ü—ñ –≤–∞—à–æ—ó –¥–æ–º–∞—à–Ω—å–æ—ó –ª–∞–±–æ—Ä–∞—Ç–æ—Ä—ñ—ó, —ñ –ø—Ä–æ–∫–ª–∞–¥–µ–º–æ —à–ª—è—Ö –¥–æ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Ö–º–∞—Ä–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±—É.

## –†—ñ–≤–µ–Ω—å 1: –ß–∏—Å—Ç–∏–π –ê—Ä–∫—É—à (VirtualBox & Vagrant)

–ü–µ—Ä—à –Ω—ñ–∂ –∞–≤—Ç–æ–º–∞—Ç–∏–∑—É–≤–∞—Ç–∏ —Ö–º–∞—Ä—É, –º–∏ –ø–æ–≤–∏–Ω–Ω—ñ –∞–≤—Ç–æ–º–∞—Ç–∏–∑—É–≤–∞—Ç–∏ –Ω–∞—à –Ω–æ—É—Ç–±—É–∫.

–Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –Ω–æ–≤–µ –ø—Ä–∞–≤–∏–ª–æ —Ñ–∞—î—Ä–≤–æ–ª—É –∞–±–æ –º—ñ–≥—Ä–∞—Ü—ñ—é –±–∞–∑–∏ –¥–∞–Ω–∏—Ö, –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–µ –±–µ–∑–ø–µ—á–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ. –í–∏ –º–æ–≥–ª–∏ –± –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ ISO, –≤—ñ–¥–∫—Ä–∏—Ç–∏ VirtualBox, –Ω–∞—Ç–∏—Å–Ω—É—Ç–∏ "New VM", –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ RAM, –∑–º–æ–Ω—Ç—É–≤–∞—Ç–∏ –¥–∏—Å–∫, –ø—Ä–æ–∫–ª–∞—Ü–∞—Ç–∏ —ñ–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä‚Ä¶

–ê–ª–µ —Ü–µ –ø–æ–≤—ñ–ª—å–Ω–æ. –Ü –æ—Å–∫—ñ–ª—å–∫–∏ —Ü–µ –ø–æ–≤—ñ–ª—å–Ω–æ, –≤–∏ –Ω–µ –±—É–¥–µ—Ç–µ —Ä–æ–±–∏—Ç–∏ —Ü–µ —á–∞—Å—Ç–æ.

–ó—É—Å—Ç—Ä—ñ—á–∞–π—Ç–µ **Vagrant**.

Vagrant ‚Äî —Ü–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —è–∫–∏–π —Å—Ç–≤–æ—Ä—é—î –≤—ñ–¥—Ç–≤–æ—Ä—é–≤–∞–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ —Ä–æ–∑—Ä–æ–±–∫–∏. –í—ñ–Ω –æ–±–≥–æ—Ä—Ç–∞—î –≥—ñ–ø–µ—Ä–≤—ñ–∑–æ—Ä–∏, —Ç–∞–∫—ñ —è–∫ VirtualBox (–∞–±–æ VMware/Libvirt), —ñ –¥–æ–∑–≤–æ–ª—è—î –≤–∞–º –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –º–∞—à–∏–Ω—É –≤ –æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—ñ: `Vagrantfile`.

–û—Å—å —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ "–∫–ª–∞—Ü–∞–Ω–Ω—è–º" —Ç–∞ "–∫–æ–¥–∏–Ω–≥–æ–º":

```ruby
# Vagrantfile
Vagrant.configure("2") do |config|
  config.vm.box = "ubuntu/jammy64"
  config.vm.network "private_network", ip: "192.168.56.10"
  config.vm.provider "virtualbox" do |vb|
    vb.memory = "2048"
    vb.cpus = 2
  end
end
```

–ó —Ü–∏–º —Ñ–∞–π–ª–æ–º —É –ø–∞–ø—Ü—ñ –≤–∏ –∑–∞–ø—É—Å–∫–∞—î—Ç–µ –æ–¥–Ω—É –∫–æ–º–∞–Ω–¥—É:
`vagrant up`

Vagrant –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –æ–±—Ä–∞–∑, –±—É–¥—É—î VM, –Ω–∞–ª–∞—à—Ç–æ–≤—É—î –º–µ—Ä–µ–∂—É —ñ –≤—Ä—É—á–∞—î –≤–∞–º –∫–ª—é—á—ñ. –ö–æ–ª–∏ –≤–∏ –∑–ª–∞–º–∞—î—Ç–µ —ó—ó (–∞ –≤–∏ –ø–æ–≤–∏–Ω–Ω—ñ —ó—ó –∑–ª–∞–º–∞—Ç–∏), –≤–∏ –∑–∞–ø—É—Å–∫–∞—î—Ç–µ:
`vagrant destroy`

–ê –ø–æ—Ç—ñ–º `vagrant up` –∑–Ω–æ–≤—É. –ß–µ—Ä–µ–∑ 60 —Å–µ–∫—É–Ω–¥ —É –≤–∞—Å —î —Å–≤—ñ–∂–∏–π, —ñ–¥–µ–∞–ª—å–Ω–∏–π –∫–ª–æ–Ω.

**–£—Ä–æ–∫:** –Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∞—î –±—É—Ç–∏ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ—é.

## –†—ñ–≤–µ–Ω—å 2: –ó–æ–ª–æ—Ç–∏–π –û–±—Ä–∞–∑ (Packer)

Vagrant —á—É–¥–æ–≤–∏–π, –∞–ª–µ –≤—ñ–Ω –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ "–±–∞–∑–æ–≤–æ–≥–æ" –æ–±—Ä–∞–∑—É –û–°. –ö–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É, –∫–æ–ª–∏ –≤–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç–µ—Å—å, –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç–∏ `apt-get update`, –≤—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –≤–∞—à—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤. –¶–µ –∑–∞–π–º–∞—î —á–∞—Å.

–©–æ, —è–∫–±–∏ –≤–∏ –º–æ–≥–ª–∏ —Å–ø–µ–∫—Ç–∏ —Å–≤–æ—é –≤–ª–∞—Å–Ω—É "—Å—Ç–∞—Ä—Ç–æ–≤—É —Ç–æ—á–∫—É"?

–ó—É—Å—Ç—Ä—ñ—á–∞–π—Ç–µ **Packer**.

Packer –∞–≤—Ç–æ–º–∞—Ç–∏–∑—É—î —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±—Ä–∞–∑—ñ–≤ –º–∞—à–∏–Ω. –í—ñ–Ω –ø—ñ–¥–Ω—ñ–º–∞—î –º–∞—à–∏–Ω—É, –∑–∞–ø—É—Å–∫–∞—î –≤–∞—à—ñ —Å–∫—Ä–∏–ø—Ç–∏ —ñ–Ω—Å—Ç–∞–ª—è—Ü—ñ—ó —ñ –∑–±–µ—Ä—ñ–≥–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç —è–∫ "–ó–æ–ª–æ—Ç–∏–π –û–±—Ä–∞–∑" (—Ñ–∞–π–ª `.box` –¥–ª—è Vagrant –∞–±–æ AMI –¥–ª—è AWS).

–ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞—Ç–∏ —Å–µ—Ä–≤–µ—Ä –ø—ñ—Å–ª—è –π–æ–≥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è, –≤–∏ –Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç–µ *–æ–±—Ä–∞–∑* –¥–æ —Ç–æ–≥–æ, —è–∫ –≤—ñ–Ω —ñ—Å–Ω—É—î.

**–£—Ä–æ–∫:** –ù–µ –≤–∏—Ç—Ä–∞—á–∞–π—Ç–µ —á–∞—Å –Ω–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∏—Ö —Å–∞–º–∏—Ö –ø–∞–∫–µ—Ç—ñ–≤ —Ç–∏—Å—è—á—É —Ä–∞–∑—ñ–≤. –°–ø–µ—á—ñ—Ç—å –æ–¥–∏–Ω —Ä–∞–∑, —Ä–æ–∑–≥–æ—Ä—Ç–∞–π—Ç–µ –≤—Å—é–¥–∏.

## –†—ñ–≤–µ–Ω—å 3: –ú–µ–Ω–µ–¥–∂–µ—Ä (Ansible)

–¢–µ–ø–µ—Ä —É –≤–∞—Å —î –ø—Ä–∞—Ü—é—é—á–∏–π —Å–µ—Ä–≤–µ—Ä. –Ø–∫ –≤–∏ –Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –Ω—å–æ–≥–æ?

–£ –≤–∞—Å –º–æ–∂–µ –≤–∏–Ω–∏–∫–Ω—É—Ç–∏ —Å–ø–æ–∫—É—Å–∞ –Ω–∞–ø–∏—Å–∞—Ç–∏ shell-—Å–∫—Ä–∏–ø—Ç:
`apt-get install nginx`
`echo "server { ... }" > /etc/nginx/nginx.conf`

–ê–ª–µ shell-—Å–∫—Ä–∏–ø—Ç–∏ –∫—Ä–∏—Ö–∫—ñ. –Ø–∫—â–æ –≤–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ü–µ–π —Å–∫—Ä–∏–ø—Ç –¥–≤—ñ—á—ñ, —á–∏ –∑–ª–∞–º–∞—î –≤—ñ–Ω –∫–æ–Ω—Ñ—ñ–≥-—Ñ–∞–π–ª? –Ø–∫—â–æ `nginx` –≤–∂–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, —á–∏ –≤–ø–∞–¥–µ –≤—ñ–Ω –∑ –ø–æ–º–∏–ª–∫–æ—é?

–°–∞–º–µ —Ç—É—Ç –≤—Å—Ç—É–ø–∞—î –≤ –≥—Ä—É **Configuration Management** (–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é).
–ó—É—Å—Ç—Ä—ñ—á–∞–π—Ç–µ **Ansible**.

Ansible –Ω–µ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞—î –∫–æ–º–∞–Ω–¥–∏; –≤—ñ–Ω –∑–∞–±–µ–∑–ø–µ—á—É—î *—Å—Ç–∞–Ω*. –í—ñ–Ω **—ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∏–π** ‚Äî –º–æ–¥–Ω–µ —Å–ª–æ–≤–æ, —â–æ –æ–∑–Ω–∞—á–∞—î "–∑–∞–ø—É—Å–∫ —Ü—å–æ–≥–æ –∫—ñ–ª—å–∫–∞ —Ä–∞–∑—ñ–≤ –¥–∞—î —Ç–æ–π —Å–∞–º–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç".

–ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –∫–∞–∑–∞—Ç–∏ "–í—Å—Ç–∞–Ω–æ–≤–∏ Nginx" (—ñ–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ), –≤–∏ –∫–∞–∂–µ—Ç–µ "–ó–∞–±–µ–∑–ø–µ—á, —â–æ–± Nginx –±—É–≤ –ø—Ä–∏—Å—É—Ç–Ω—ñ–π" (–¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ).

```yaml
# playbook.yml
- name: Configure Web Server
  hosts: all
  tasks:
    - name: Ensure Nginx is installed
      apt:
        name: nginx
        state: present

    - name: Ensure config file matches our standard
      copy:
        src: ./nginx.conf
        dest: /etc/nginx/sites-available/default
      notify: Restart Nginx
```

–í–∏ –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Ü–µ –ø—Ä–æ—Ç–∏ –æ–¥–Ω—ñ—î—ó VirtualBox VM –∞–±–æ 500 —Ö–º–∞—Ä–Ω–∏—Ö —Å–µ—Ä–≤–µ—Ä—ñ–≤. –†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–æ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∞ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞.

**–£—Ä–æ–∫:** –í–∏–∑–Ω–∞—á–∞–π—Ç–µ *–±–∞–∂–∞–Ω–∏–π —Å—Ç–∞–Ω*, –∞ –Ω–µ –∫—Ä–æ–∫–∏ –¥–ª—è –π–æ–≥–æ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è.

## –†—ñ–≤–µ–Ω—å 4: –ê—Ä—Ö—ñ—Ç–µ–∫—Ç–æ—Ä (Terraform)

–ú–∏ –æ–ø–∞–Ω—É–≤–∞–ª–∏ –ª–æ–∫–∞–ª—å–Ω—É –ª–∞–±–æ—Ä–∞—Ç–æ—Ä—ñ—é. –£ –Ω–∞—Å —î –Ω–∞—à—ñ –æ–±—Ä–∞–∑–∏. –£ –Ω–∞—Å —î –Ω–∞—à–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è.
–¢–µ–ø–µ—Ä –º–∏ —Ä—É—Ö–∞—î–º–æ—Å—è –≤ –•–º–∞—Ä—É.

–í AWS –∞–±–æ Google Cloud –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ VM. –í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω—ñ VPC, –ü—ñ–¥–º–µ—Ä–µ–∂–∞, –ü—Ä–∞–≤–∏–ª–∞ –§–∞—î—Ä–≤–æ–ª—É, –ë–∞–ª–∞–Ω—Å—É–≤–∞–ª—å–Ω–∏–∫ –ù–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞ –°–µ—Ä–≤—ñ—Å–Ω–∏–π –ê–∫–∞—É–Ω—Ç.

–ö–ª–∞—Ü–∞–Ω–Ω—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å AWS —á–∏ GCP –¥–ª—è –ø–æ–±—É–¥–æ–≤–∏ —Ü—å–æ–≥–æ ‚Äî —Ü–µ –∫–æ—à–º–∞—Ä. –¶–µ –Ω–µ–≤—ñ–¥—Ç–≤–æ—Ä—é–≤–∞–Ω–æ, –Ω–µ –ø—ñ–¥–¥–∞—î—Ç—å—Å—è –∞—É–¥–∏—Ç—É —ñ —Å—Ö–∏–ª—å–Ω–µ –¥–æ –ø–æ–º–∏–ª–æ–∫.

–ó—É—Å—Ç—Ä—ñ—á–∞–π—Ç–µ **Terraform**.

Terraform ‚Äî —Ü–µ —ñ–Ω–¥—É—Å—Ç—Ä—ñ–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è **Infrastructure Provisioning** (–†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏). –í—ñ–Ω –≥–æ–≤–æ—Ä–∏—Ç—å –∑ API —Ö–º–∞—Ä, —â–æ–± –ø–æ–±—É–¥—É–≤–∞—Ç–∏ "—Å–∫–µ–ª–µ—Ç" –≤–∞—à–æ—ó —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏.

–ü–æ–∫–∏ Ansible –∫–µ—Ä—É—î —Ç–∏–º, *—â–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ* —Å–µ—Ä–≤–µ—Ä–∞, Terraform –∫–µ—Ä—É—î *—Å–∞–º–∏–º —Å–µ—Ä–≤–µ—Ä–æ–º* (—ñ –º–µ—Ä–µ–∂–µ—é –Ω–∞–≤–∫–æ–ª–æ –Ω—å–æ–≥–æ).

```hcl
# main.tf
resource "google_compute_network" "vpc_network" {
  name = "d3ep0ps-vpc"
}

resource "google_compute_instance" "vm_instance" {
  name         = "web-server"
  machine_type = "e2-micro"
  
  boot_disk {
    initialize_params {
      image = "debian-cloud/debian-11"
    }
  }
}
```

–ö–æ–ª–∏ –≤–∏ –∑–∞–ø—É—Å–∫–∞—î—Ç–µ `terraform apply`, –≤—ñ–Ω –¥–∏–≤–∏—Ç—å—Å—è –Ω–∞ –≤–∞—à –∫–æ–¥, –¥–∏–≤–∏—Ç—å—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—É —Ö–º–∞—Ä—É, –≤–∏—Ä–∞—Ö–æ–≤—É—î —Ä—ñ–∑–Ω–∏—Ü—é —ñ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –≤—Å–µ —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å.

**–£—Ä–æ–∫:** –í–µ—Å—å –≤–∞—à –¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä –º–∞—î –±—É—Ç–∏ –≤–∏–∑–Ω–∞—á–µ–Ω–∏–π —É git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó.

### –£–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∞ –§—ñ–ª–æ—Å–æ—Ñ—ñ—è

–ß–æ–º—É —Ü–µ –≤–∞–∂–ª–∏–≤–æ? –ù–∞–≤—ñ—â–æ –≤—á–∏—Ç–∏ —á–æ—Ç–∏—Ä–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –∑–∞–º—ñ—Å—Ç—å –ø—Ä–æ—Å—Ç–æ–≥–æ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–Ω–æ–ø–æ–∫?

–¢–æ–º—É —â–æ **–ö–æ–¥–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∞ –Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞** –ø—Ä–∏–Ω–æ—Å–∏—Ç—å —Å–ø–æ–∫—ñ–π.

  * **–í–æ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç—É—î —Å–∞–º–∞ —Å–µ–±–µ.** –í–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ —É Wiki, —â–æ –ø–æ—è—Å–Ω—é—î, —è–∫ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π —Å–µ—Ä–≤–µ—Ä. –ö–æ–¥ *—ñ —î* –ø–æ—è—Å–Ω–µ–Ω–Ω—è–º.
  * **–í–æ–Ω–∞ —É–º–æ–∂–ª–∏–≤–ª—é—î –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è.** –Ø–∫—â–æ —Ä–µ–≥—ñ–æ–Ω –ø–∞–¥–∞—î –∞–±–æ –Ω–æ—É—Ç–±—É–∫ –≤–∫—Ä–∞–¥–µ–Ω–æ, –≤–∏ –Ω–µ –ø–∞–Ω—ñ–∫—É—î—Ç–µ. –í–∏ —Å—Ç—è–≥—É—î—Ç–µ –∫–æ–¥, –∑–∞–ø—É—Å–∫–∞—î—Ç–µ –∫–æ–º–∞–Ω–¥—É —ñ —á–µ–∫–∞—î—Ç–µ.
  * **–í–æ–Ω–∞ –¥–æ–∑–≤–æ–ª—è—î –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É–≤–∞—Ç–∏.** –í–∏ –º–æ–∂–µ—Ç–µ –ø—ñ–¥–Ω—è—Ç–∏ –∫–æ–ø—ñ—é –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É, –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –±–æ–∂–µ–≤—ñ–ª—å–Ω—É —ñ–¥–µ—é —ñ –∑–Ω–∏—â–∏—Ç–∏ —ó—ó –∑–∞ –∫–æ–ø—ñ–π–∫–∏.

–í–∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø—Ä–∞–≤—ñ. –õ–æ–≥—ñ—á–Ω–∏–π –ø–æ—Ç—ñ–∫ –º–∞—î –±—É—Ç–∏: **–ü–µ—Ä–µ–¥—É–º–æ–≤–∏ (–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è) -\> –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è -\> –í–∏–∫–æ–Ω–∞–Ω–Ω—è**. –Ü –º–∏ –Ω–µ –º–æ–∂–µ–º–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ –∫—Ä–æ–∫ Packer, –æ—Å–∫—ñ–ª—å–∫–∏ —Ü–µ –∫–ª—é—á–æ–≤–∞ —á–∞—Å—Ç–∏–Ω–∞ –Ω–∞—Ä–∞—Ç–∏–≤—É "–ó–æ–ª–æ—Ç–æ–≥–æ –û–±—Ä–∞–∑—É".

–û—Å—å –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü—ñ—è **"Hands-on Lab"** –¥–ª—è –∫—ñ–Ω—Ü—è –≤–∞—à–æ—ó —Å—Ç–∞—Ç—Ç—ñ –Ω–∞ Medium. –ó–∞–º—ñ–Ω—ñ—Ç—å –ø–æ–ø–µ—Ä–µ–¥–Ω—é –≤–µ—Ä—Å—ñ—é –Ω–∞ —Ü—é.

-----

## üß™ –ü—Ä–∞–∫—Ç–∏—á–Ω–∞ –õ–∞–±–æ—Ä–∞—Ç–æ—Ä—ñ—è

–ù–µ –ø—Ä–æ—Å—Ç–æ —á–∏—Ç–∞–π—Ç–µ –ø—Ä–æ —Ü–µ ‚Äî –∑–±—É–¥—É–π—Ç–µ —Ü–µ.

–Ø —Å—Ç–≤–æ—Ä–∏–≤ —Å—É–ø—Ä–æ–≤—ñ–¥–Ω–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π GitHub –¥–ª—è —Ü—ñ—î—ó —Å—Ç–∞—Ç—Ç—ñ. –í—ñ–Ω –º—ñ—Å—Ç–∏—Ç—å —Ç–æ—á–Ω–∏–π –∫–æ–¥ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è, —è–∫–∏–π –º–∏ –æ–±–≥–æ–≤–æ—Ä–∏–ª–∏: `Vagrantfile`, —à–∞–±–ª–æ–Ω Packer, –ø–ª–µ–π–±—É–∫ Ansible —Ç–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é Terraform.

**–ö—Ä–æ–∫ 1: –û—Ç—Ä–∏–º–∞–π—Ç–µ –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏**
–ü–µ—Ä—à –Ω—ñ–∂ –≤–∏ –∑–º–æ–∂–µ—Ç–µ —â–æ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑—É–≤–∞—Ç–∏, –≤–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω –¥–≤–∏–≥—É–Ω. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å —Ü—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è –≤–∞—à–æ—ó –û–°:

  * **VirtualBox** (–ì—ñ–ø–µ—Ä–≤—ñ–∑–æ—Ä): [virtualbox.org](https://www.virtualbox.org/)
  * **Vagrant** (–ú–µ–Ω–µ–¥–∂–µ—Ä VM): [vagrantup.com](https://www.vagrantup.com/)
  * **Packer** (–ë—É–¥—ñ–≤–µ–ª—å–Ω–∏–∫ –û–±—Ä–∞–∑—ñ–≤): [packer.io](https://www.packer.io/)
  * **Terraform** (–•–º–∞—Ä–Ω–∏–π –ë—É–¥—ñ–≤–µ–ª—å–Ω–∏–∫): [terraform.io](https://www.terraform.io/)

**–ö—Ä–æ–∫ 2: –ö–ª–æ–Ω—É–π—Ç–µ –õ–∞–±—É**
–°—Ç—è–≥–Ω—ñ—Ç—å –∫—Ä–µ—Å–ª–µ–Ω–Ω—è:

```bash
git clone https://github.com/d3ep0ps/iac-lab
cd iac-lab
```

**–ö—Ä–æ–∫ 3: –ó–∞–ø—É—Å—Ç—ñ—Ç—å –†—ñ–≤–Ω—ñ**

  * **–†—ñ–≤–µ–Ω—å 1 (Vagrant):** –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É `level1-vagrant` —ñ –∑–∞–ø—É—Å—Ç—ñ—Ç—å `vagrant up`. –¢–µ–ø–µ—Ä —É –≤–∞—Å —î —Å–µ—Ä–≤–µ—Ä.
  * **–†—ñ–≤–µ–Ω—å 2 (Packer):** –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É `level2-packer` —ñ –∑–∞–ø—É—Å—Ç—ñ—Ç—å `packer init .` –ø–æ—Ç—ñ–º `packer build .`. –î–∏–≤—ñ—Ç—å—Å—è, —è–∫ –≤—ñ–Ω –ø–µ—á–µ –∫–∞—Å—Ç–æ–º–Ω–∏–π –æ–±—Ä–∞–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.
  * **–†—ñ–≤–µ–Ω—å 3 (Ansible):** –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É `level3-ansible` —ñ –∑–∞–ø—É—Å—Ç—ñ—Ç—å `vagrant up`. –î–∏–≤—ñ—Ç—å—Å—è, —è–∫ –≤—ñ–Ω –Ω–∞–ª–∞—à—Ç–æ–≤—É—î Nginx, –∞ –≤–∏ –Ω–∞–≤—ñ—Ç—å –ø–∞–ª—å—Ü–µ–º –Ω–µ –ø–æ–≤–æ—Ä—É—Ö–Ω—É–ª–∏.
  * **–†—ñ–≤–µ–Ω—å 4 (Terraform):** –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É `level4-terraform`, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ —Ö–º–∞—Ä–Ω–µ –∫—Ä–µ—Å–ª–µ–Ω–Ω—è.

(–Ø–∫—â–æ –≤–∏ –ø—Ä–æ–ø—É—Å—Ç–∏–ª–∏ –ø–æ–ø–µ—Ä–µ–¥–Ω—é –ª–∞–±—É –ø–æ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—é —Ç–µ–∫—Å—Ç—É, –≤–∏ –º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ **Vim Survival Lab** —Ç—É—Ç: [github.com/d3ep0ps/vim-lab](https://github.com/d3ep0ps/vim-lab))

### –ù–∞—Å—Ç—É–ø–Ω—ñ –ö—Ä–æ–∫–∏

–¢–µ–ø–µ—Ä —É –≤–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —ñ –∫–æ–¥ –Ω–∞ –≤–∞—à—ñ–π –º–∞—à–∏–Ω—ñ.

–£ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É –ø–æ—Å—Ç—ñ –º–∏ –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–æ—Å–µ—Ä–µ–¥–∏–º–æ—Å—è –Ω–∞ **–†—ñ–≤–Ω—ñ 3**. –ú–∏ –∑–∞–Ω—É—Ä–∏–º–æ—Å—è –≥–ª–∏–±–æ–∫–æ –≤ **Ansible**, –ø–∏—à—É—á–∏ –Ω–∞—à –ø–µ—Ä—à–∏–π —Å–ø—Ä–∞–≤–∂–Ω—ñ–π –ø–ª–µ–π–±—É–∫ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó –ø–æ—Å–∏–ª–µ–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏ Linux-—Å–µ—Ä–≤–µ—Ä–∞.

–í–∏ –±—ñ–ª—å—à–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å–∏—Å—Ç–µ–º. –í–∏ —Ç–≤–æ—Ä–µ—Ü—å —Å–≤—ñ—Ç—ñ–≤.
